"0","# Calculo los valores medios de inflación y puntuación de corrupción por país"
"0","df_avg <- df_melted %>%"
"0","    group_by(country, region) %>% "
"0","    summarise("
"0","        inflation = median(inflation, na.rm = TRUE),"
"0","        score = mean(score, na.rm = TRUE), .groups = ""drop"""
"0","    ) %>%"
"0","    arrange(region, country)"
"0","    "
"0","# Nota1: ordeno por región y país para que el hue siga el mismo orden que el resto"
"0","# Nota2: utilizo la mediana para la inflación para evitar que valores extremos "
"0","# como los de Bulgaria y Venezuela ya mencionados."
"0",""
"0","# Crear el scatter plot para visualizar la correlación entre inflación y puntuación de corrupción"
"0","# Crear el scatter plot con una línea de regresión única para todas las regiones"
"0","ggplot(df_avg, aes(x = inflation, y = score, color = region)) +"
"0","    geom_point(size = 3) +"
"0","    geom_smooth(method = ""lm"", se = FALSE, linetype = ""dashed"", size = 2.5, color = ""black"", formula = y ~ x) +"
"0","    labs("
"0","        title = ""Correlación entre Inflación y Puntuación de Corrupción por País"","
"0","        x = ""Inflación Mediana"","
"0","        y = ""Puntuación de Corrupción Promedio"","
"0","        color = ""Región"""
"0","    )"
